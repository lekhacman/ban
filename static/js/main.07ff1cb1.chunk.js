(this.webpackJsonpban=this.webpackJsonpban||[]).push([[0],{41:function(e,t,n){e.exports=n(82)},63:function(e,t,n){},64:function(e,t,n){},70:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),i=n(34),u=n.n(i),l=(n(63),n(64),n(12));n(70);var s=function(e){var t=e.id,n=e.title,a=e.children;return r.a.createElement("div",{className:"mycard mycard--light",id:"mycard--".concat(t)},r.a.createElement("div",{className:"mycard__title"},r.a.createElement("h2",null,n)),r.a.createElement("div",{className:"mycard__body"},a))};function h(e){var t=e.data;return r.a.createElement(s,{title:t.date},r.a.createElement("div",null,"min: ",t.temp.min),r.a.createElement("div",null,"max: ",t.temp.max))}var m=n(83);var d=Object(l.b)((function(e){return Object(m.a)(["err","days","isFetching"])(e.weather)}),{})((function(e){return r.a.createElement("div",null,e.isFetching?"Loading":null,e.err?e.err:e.days.map((function(e,t){return r.a.createElement(h,{key:t,data:e})})))})),b=n(36),f=n.n(b),O=n(6),p=n(5),g=n(86),v=n(84),w=n(87),j=n(39),y=n(88),E=n(37),S=n.n(E),C="ban/weather/QUERY",_="ban/weather/SUGGEST",F="ban/weather/FETCH_ERROR",N="ban/weather/FETCHING",R={search:"",locations:[],isFetching:!1,err:"",days:[]};function x(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,n=arguments.length>1?arguments[1]:void 0,a=(e={},Object(O.a)(e,C,(function(){return Object(p.a)(Object(p.a)({},t),{},{search:n.search})})),Object(O.a)(e,_,r),Object(O.a)(e,"ban/weather/CLEAR_LOCATIONS",(function(){return Object(p.a)(Object(p.a)({},t),{},{locations:[]})})),Object(O.a)(e,N,(function(){return Object(p.a)(Object(p.a)({},t),{},{isFetching:!0,err:""})})),Object(O.a)(e,"ban/weather/FETCH_SUCCESS",c),Object(O.a)(e,F,o),e);return a.hasOwnProperty(n.type)?a[n.type]():t;function r(){return Object(p.a)(Object(p.a)({},t),n.data)}function c(){return Object(p.a)(Object(p.a)({},t),{},{isFetching:!1,err:"",days:n.data.weather})}function o(){return Object(p.a)(Object(p.a)({},t),{},{isFetching:!1,err:n.err.message,days:[]})}}function A(e){return r.a.createElement("div",null,e.title)}var I={onSearch:function(e){return function(t){return t({type:C,search:e})}},onQuery:function(e){return function(t,n,a){var r=a.api;e&&r.weather.search(e).then((function(n){return t({type:_,data:{search:e,locations:n}})}),(function(){return t({type:_,data:{search:e,locations:[]}})}))}},onClearSuggestion:function(){return function(e){return e({type:"ban/weather/CLEAR_LOCATIONS"})}},onSubmit:function(e){return function(t,n,a){var r=a.api;t({type:N}),r.weather.getWeather(e).then(Object(g.a)(Object(v.a)(Object(w.a)("weather"),Object(g.a)(Object(j.a)(Object(v.a)(Object(w.a)("date"),(function(e){return S()(e,"YYYY-MM-DD").format("dddd")}))),Object(y.a)(5))),(function(e){return t({type:"ban/weather/FETCH_SUCCESS",data:e})})),(function(e){return t({type:F,err:e})}))}}},T=Object(l.b)((function(e){return{txt:e.weather.search,locations:e.weather.locations}}),I)((function(e){return r.a.createElement("div",null,r.a.createElement(f.a,{suggestions:e.locations,onSuggestionsFetchRequested:function(t){var n=t.value;e.onQuery(n)},onSuggestionsClearRequested:e.onClearSuggestion,getSuggestionValue:function(t){return e.onSubmit(t.id),t.title},renderSuggestion:A,inputProps:{placeholder:"Search",value:e.txt,onChange:function(t,n){var a=n.newValue;e.onSearch(t.target.value||a)}}}))}));function W(e){var t=e.store;return r.a.createElement(l.a,{store:t},r.a.createElement("div",{className:"App App--light"},r.a.createElement("header",null,r.a.createElement("h1",null,"Weather")),r.a.createElement("main",null,r.a.createElement(T,null),r.a.createElement(d,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=n(9),L=n(38);var U=function(){return Object(k.c)({weather:x})};var Y=n(40),H=n(85);var J={vendor:{metaWeather:{url:"https://cors-anywhere.herokuapp.com/https://www.metaweather.com",timeout:6e4}}},q={state:function(e){var t=e.localStorage;return{get:function(){try{var n=t.getItem("state");return n?JSON.parse(n):void 0}catch(a){e.console.error(a)}},set:function(e){t.setItem("state",JSON.stringify(e))},clear:function(){t.removeItem("state")}}}(window),weather:function(e,t){var n=e.url,a=e.timeout,r=t.create({baseURL:"".concat(n,"/api/location"),timeout:a});return{search:function(e){return r.get("/search?query=".concat(e)).then(Object(g.a)(Object(Y.a)("data"),Object(j.a)((function(e){return{title:e.title,type:e.location_type,id:e.woeid}}))))},getWeather:function(e){return r.get("/".concat(e)).then(Object(g.a)(Object(Y.a)("data"),(function(e){return{weather:e.consolidated_weather}}),Object(H.a)({weather:Object(j.a)((function(e){return{date:e.applicable_date,temp:{min:e.min_temp,max:e.max_temp}}}))})))}}}(J.vendor.metaWeather,u.a)},G=q.state.get(),Q=function(e,t){var n=[L.a.withExtraArgument({api:e})],a=U();return Object(k.d)(a,t,k.a.apply(null,n))}(q,G);o.a.render(r.a.createElement(W,{store:Q}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.07ff1cb1.chunk.js.map